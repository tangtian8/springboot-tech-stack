dataSources:
  ds_0:
    dataSourceClassName: com.zaxxer.hikari.HikariDataSource
    driverClassName: org.postgresql.Driver
    jdbcUrl: jdbc:postgresql://localhost:5432/tangtian
    username: dhis2
    password: dhis2

rules:
  - !SHARDING
    tables:
      t_user:
        actualDataNodes: ds_0.t_user_${1..2}
        tableStrategy:
          standard:
            shardingColumn: user_id
            shardingAlgorithmName: t_user_inline
        keyGenerateStrategy:
          column: id
          keyGeneratorName: snowflake
    bindingTables:
      - t_user




    shardingAlgorithms:
      t_user_inline:
        type: INLINE
        props:
          algorithm-expression: t_user_${user_id / 2}
    keyGenerators:
      snowflake:
        type: SNOWFLAKE


  # 属性配置
props:
  sql-show: true  # 打印 SQL
  sql-simple: true  # 简化 SQL 输出
